{"version":4,"terraform_version":"1.8.8","serial":14,"lineage":"2f3e2319-19ed-f87e-276e-e5ae53b8fdf8","outputs":{},"resources":[{"mode":"managed","type":"aws_cloudwatch_event_rule","name":"daily_trigger","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:events:us-east-1:827512370772:rule/daily_lottery_trigger","description":"","event_bus_name":"default","event_pattern":null,"force_destroy":false,"id":"daily_lottery_trigger","is_enabled":true,"name":"daily_lottery_trigger","name_prefix":"","role_arn":"","schedule_expression":"cron(5 0 * * ? *)","state":"ENABLED","tags":{},"tags_all":{}},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"aws_cloudwatch_event_target","name":"lambda_target","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"appsync_target":[],"arn":"arn:aws:lambda:us-east-1:827512370772:function:lottery_checker","batch_target":[],"dead_letter_config":[],"ecs_target":[],"event_bus_name":"default","force_destroy":false,"http_target":[],"id":"daily_lottery_trigger-lambda","input":"","input_path":"","input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"role_arn":"","rule":"daily_lottery_trigger","run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[],"target_id":"lambda"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==","dependencies":["aws_cloudwatch_event_rule.daily_trigger","aws_iam_role.lambda_exec","aws_lambda_function.lottery_checker"]}]},{"mode":"managed","type":"aws_dynamodb_table","name":"lottery_numbers","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:dynamodb:us-east-1:827512370772:table/LotteryNumbers","attribute":[{"name":"lottery_number","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"lottery_number","id":"LotteryNumbers","import_table":[],"local_secondary_index":[],"name":"LotteryNumbers","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false}],"range_key":null,"read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"","stream_enabled":false,"stream_label":"","stream_view_type":"","table_class":"STANDARD","tags":{},"tags_all":{},"timeouts":null,"ttl":[{"attribute_name":"","enabled":false}],"write_capacity":0},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="}]},{"mode":"managed","type":"aws_iam_role","name":"lambda_exec","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::827512370772:role/lottery_lambda_exec","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-01-02T02:25:29Z","description":"","force_detach_policies":false,"id":"lottery_lambda_exec","inline_policy":[{"name":"terraform-20250102022526519800000001","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"dynamodb:GetItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:*:*:table/LotteryNumbers\"}]}"}],"managed_policy_arns":[],"max_session_duration":3600,"name":"lottery_lambda_exec","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROA4BK4UWZKLMHJLVORQ"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role_policy","name":"lambda_policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"lottery_lambda_exec:terraform-20250102022526519800000001","name":"terraform-20250102022526519800000001","name_prefix":"terraform-","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"dynamodb:GetItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:*:*:table/LotteryNumbers\"}]}","role":"lottery_lambda_exec"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_dynamodb_table.lottery_numbers","aws_iam_role.lambda_exec"]}]},{"mode":"managed","type":"aws_lambda_function","name":"lottery_checker","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:827512370772:function:lottery_checker","code_sha256":"8DLLh5aVUfBQIhNFkZvrzZNbgwgnYF6LlNtRzcY9N94=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"DDB_TABLE_NAME":"LotteryNumbers","MAGAYO_API_KEY":"J9Cf2pWtpLw4xPEmVh","MAGAYO_GAME_ID":"us_pa_pick3_eve"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./lottery_checker.zip","function_name":"lottery_checker","handler":"lottery_checker.lambda_handler","id":"lottery_checker","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:827512370772:function:lottery_checker/invocations","kms_key_arn":"","last_modified":"2025-01-02T04:48:49.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/lottery_checker","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:us-east-1:827512370772:function:lottery_checker:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:827512370772:function:lottery_checker:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::827512370772:role/lottery_lambda_exec","runtime":"python3.9","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"8DLLh5aVUfBQIhNFkZvrzZNbgwgnYF6LlNtRzcY9N94=","source_code_size":952497,"tags":{},"tags_all":{},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19","dependencies":["aws_iam_role.lambda_exec"]}]},{"mode":"managed","type":"aws_lambda_permission","name":"allow_cloudwatch","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"lottery_checker","function_url_auth_type":null,"id":"AllowExecutionFromCloudWatch","principal":"events.amazonaws.com","principal_org_id":null,"qualifier":"","source_account":null,"source_arn":"arn:aws:events:us-east-1:827512370772:rule/daily_lottery_trigger","statement_id":"AllowExecutionFromCloudWatch","statement_id_prefix":""},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_cloudwatch_event_rule.daily_trigger","aws_iam_role.lambda_exec","aws_lambda_function.lottery_checker"]}]}],"check_results":null}
